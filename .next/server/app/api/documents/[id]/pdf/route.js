"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/documents/[id]/pdf/route";
exports.ids = ["app/api/documents/[id]/pdf/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdocuments%2F%5Bid%5D%2Fpdf%2Froute&page=%2Fapi%2Fdocuments%2F%5Bid%5D%2Fpdf%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocuments%2F%5Bid%5D%2Fpdf%2Froute.ts&appDir=%2FUsers%2Fginodiblasi%2Fprojects%2Fquickdocs%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fginodiblasi%2Fprojects%2Fquickdocs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdocuments%2F%5Bid%5D%2Fpdf%2Froute&page=%2Fapi%2Fdocuments%2F%5Bid%5D%2Fpdf%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocuments%2F%5Bid%5D%2Fpdf%2Froute.ts&appDir=%2FUsers%2Fginodiblasi%2Fprojects%2Fquickdocs%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fginodiblasi%2Fprojects%2Fquickdocs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_ginodiblasi_projects_quickdocs_app_api_documents_id_pdf_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/documents/[id]/pdf/route.ts */ \"(rsc)/./app/api/documents/[id]/pdf/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/documents/[id]/pdf/route\",\n        pathname: \"/api/documents/[id]/pdf\",\n        filename: \"route\",\n        bundlePath: \"app/api/documents/[id]/pdf/route\"\n    },\n    resolvedPagePath: \"/Users/ginodiblasi/projects/quickdocs/app/api/documents/[id]/pdf/route.ts\",\n    nextConfigOutput,\n    userland: _Users_ginodiblasi_projects_quickdocs_app_api_documents_id_pdf_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/documents/[id]/pdf/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZkb2N1bWVudHMlMkYlNUJpZCU1RCUyRnBkZiUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZG9jdW1lbnRzJTJGJTVCaWQlNUQlMkZwZGYlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZkb2N1bWVudHMlMkYlNUJpZCU1RCUyRnBkZiUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmdpbm9kaWJsYXNpJTJGcHJvamVjdHMlMkZxdWlja2RvY3MlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGZ2lub2RpYmxhc2klMkZwcm9qZWN0cyUyRnF1aWNrZG9jcyZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDeUI7QUFDdEc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWlja2RvY3MvPzE4MWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2dpbm9kaWJsYXNpL3Byb2plY3RzL3F1aWNrZG9jcy9hcHAvYXBpL2RvY3VtZW50cy9baWRdL3BkZi9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZG9jdW1lbnRzL1tpZF0vcGRmL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZG9jdW1lbnRzL1tpZF0vcGRmXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9kb2N1bWVudHMvW2lkXS9wZGYvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvZ2lub2RpYmxhc2kvcHJvamVjdHMvcXVpY2tkb2NzL2FwcC9hcGkvZG9jdW1lbnRzL1tpZF0vcGRmL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9kb2N1bWVudHMvW2lkXS9wZGYvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdocuments%2F%5Bid%5D%2Fpdf%2Froute&page=%2Fapi%2Fdocuments%2F%5Bid%5D%2Fpdf%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocuments%2F%5Bid%5D%2Fpdf%2Froute.ts&appDir=%2FUsers%2Fginodiblasi%2Fprojects%2Fquickdocs%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fginodiblasi%2Fprojects%2Fquickdocs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/documents/[id]/pdf/route.ts":
/*!*********************************************!*\
  !*** ./app/api/documents/[id]/pdf/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var pdf_lib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pdf-lib */ \"(rsc)/./node_modules/pdf-lib/es/index.js\");\n\n\nfunction toNumber(input) {\n    const cleaned = (input || \"\").replace(/[^0-9.]/g, \"\");\n    const n = Number(cleaned);\n    return Number.isFinite(n) ? n : 0;\n}\nfunction money(n) {\n    return n.toLocaleString(undefined, {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2\n    });\n}\nfunction safeJson(raw, fallback) {\n    if (!raw) return fallback;\n    try {\n        return JSON.parse(raw);\n    } catch  {\n        return fallback;\n    }\n}\nfunction wrapText(text, maxLen) {\n    const words = (text || \"\").split(/\\s+/).filter(Boolean);\n    const lines = [];\n    let line = \"\";\n    for (const w of words){\n        const next = line ? `${line} ${w}` : w;\n        if (next.length > maxLen) {\n            if (line) lines.push(line);\n            line = w;\n        } else {\n            line = next;\n        }\n    }\n    if (line) lines.push(line);\n    return lines.length ? lines : [\n        \"—\"\n    ];\n}\nasync function embedLogo(pdfDoc, logoDataUrl) {\n    if (!logoDataUrl) return null;\n    if (!logoDataUrl.startsWith(\"data:image/\")) return null;\n    try {\n        const isPng = logoDataUrl.startsWith(\"data:image/png;base64,\");\n        const isJpg = logoDataUrl.startsWith(\"data:image/jpeg;base64,\") || logoDataUrl.startsWith(\"data:image/jpg;base64,\");\n        const base64 = logoDataUrl.split(\",\")[1] || \"\";\n        const bytes = Buffer.from(base64, \"base64\");\n        const img = isPng ? await pdfDoc.embedPng(bytes) : isJpg ? await pdfDoc.embedJpg(bytes) : null;\n        return img;\n    } catch  {\n        return null;\n    }\n}\nfunction drawHeader(opts) {\n    const { page, width, height, margin, regular, bold, companyName, companyEmail, companyPhone, companyAddress, projectTitle, customerName, logo } = opts;\n    // Header bar\n    page.drawRectangle({\n        x: 0,\n        y: height - 120,\n        width,\n        height: 120,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.96, 0.97, 0.98)\n    });\n    // Optional logo (left)\n    let leftX = margin;\n    if (logo) {\n        const box = 48;\n        const scale = Math.min(box / logo.width, box / logo.height);\n        const w = logo.width * scale;\n        const h = logo.height * scale;\n        page.drawImage(logo, {\n            x: margin,\n            y: height - 78 - h / 2,\n            width: w,\n            height: h\n        });\n        leftX = margin + 62;\n    }\n    // Company name\n    page.drawText(companyName, {\n        x: leftX,\n        y: height - 56,\n        size: 16,\n        font: bold,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.05, 0.05, 0.05)\n    });\n    // Contact\n    const contactLine = [\n        companyEmail,\n        companyPhone\n    ].filter(Boolean).join(\" • \");\n    if (contactLine) {\n        page.drawText(contactLine, {\n            x: leftX,\n            y: height - 74,\n            size: 10,\n            font: regular,\n            color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.45, 0.45, 0.45)\n        });\n    }\n    if (companyAddress) {\n        page.drawText(companyAddress, {\n            x: leftX,\n            y: height - 88,\n            size: 10,\n            font: regular,\n            color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.45, 0.45, 0.45)\n        });\n    }\n    // Right: Title + Prepared for\n    page.drawText(projectTitle, {\n        x: width - margin - bold.widthOfTextAtSize(projectTitle, 18),\n        y: height - 58,\n        size: 18,\n        font: bold,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.05, 0.05, 0.05)\n    });\n    const preparedFor = `Prepared for: ${customerName || \"—\"}`;\n    page.drawText(preparedFor, {\n        x: width - margin - regular.widthOfTextAtSize(preparedFor, 10),\n        y: height - 78,\n        size: 10,\n        font: regular,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.45, 0.45, 0.45)\n    });\n}\nfunction drawTableHeader(opts) {\n    const { page, y, width, margin, bold } = opts;\n    const headerY = y;\n    page.drawRectangle({\n        x: margin,\n        y: headerY - 18,\n        width: width - margin * 2,\n        height: 24,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.98, 0.98, 0.99),\n        borderColor: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.88, 0.88, 0.88),\n        borderWidth: 1\n    });\n    const colDesc = margin;\n    const colQty = margin + 320;\n    const colRate = margin + 385;\n    const colAmt = margin + 470;\n    page.drawText(\"Description\", {\n        x: colDesc + 10,\n        y: headerY - 12,\n        size: 10,\n        font: bold,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.35, 0.35, 0.35)\n    });\n    page.drawText(\"Qty\", {\n        x: colQty,\n        y: headerY - 12,\n        size: 10,\n        font: bold,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.35, 0.35, 0.35)\n    });\n    page.drawText(\"Rate\", {\n        x: colRate,\n        y: headerY - 12,\n        size: 10,\n        font: bold,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.35, 0.35, 0.35)\n    });\n    page.drawText(\"Amount\", {\n        x: colAmt,\n        y: headerY - 12,\n        size: 10,\n        font: bold,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.35, 0.35, 0.35)\n    });\n    return headerY - 30; // next y after header\n}\nfunction drawFooter(opts) {\n    const { page, width, margin, regular, docId } = opts;\n    const footerY = 60;\n    page.drawText(`Document ID: ${docId}`, {\n        x: margin,\n        y: footerY,\n        size: 8.5,\n        font: regular,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.5, 0.5, 0.5)\n    });\n    const right = \"Generated with QuickDocs\";\n    page.drawText(right, {\n        x: width - margin - regular.widthOfTextAtSize(right, 8.5),\n        y: footerY,\n        size: 8.5,\n        font: regular,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.5, 0.5, 0.5)\n    });\n}\nasync function GET(request, { params }) {\n    const url = new URL(request.url);\n    // Branding\n    const companyName = url.searchParams.get(\"companyName\") || \"Your Company\";\n    const companyEmail = url.searchParams.get(\"companyEmail\") || \"\";\n    const companyPhone = url.searchParams.get(\"companyPhone\") || \"\";\n    const companyAddress = url.searchParams.get(\"companyAddress\") || \"\";\n    const logoDataUrl = url.searchParams.get(\"logoDataUrl\");\n    // Doc\n    const customerName = url.searchParams.get(\"customerName\") || \"—\";\n    const projectTitle = url.searchParams.get(\"projectTitle\") || \"Estimate\";\n    // Items + tax\n    const items = safeJson(url.searchParams.get(\"items\"), []);\n    const taxRate = toNumber(url.searchParams.get(\"taxRate\") || \"0\");\n    const safeItems = Array.isArray(items) && items.length ? items : [\n        {\n            id: \"x\",\n            title: \"—\",\n            qty: \"0\",\n            rate: \"0\"\n        }\n    ];\n    const subtotal = safeItems.reduce((sum, it)=>sum + toNumber(it.qty) * toNumber(it.rate), 0);\n    const tax = subtotal * (taxRate / 100);\n    const total = subtotal + tax;\n    // Notes / terms / payment\n    const notes = url.searchParams.get(\"notes\") || \"\";\n    const terms = url.searchParams.get(\"terms\") || \"\";\n    const paymentInfo = url.searchParams.get(\"paymentInfo\") || \"\";\n    // PDF setup\n    const pdfDoc = await pdf_lib__WEBPACK_IMPORTED_MODULE_1__.PDFDocument.create();\n    const regular = await pdfDoc.embedFont(pdf_lib__WEBPACK_IMPORTED_MODULE_1__.StandardFonts.Helvetica);\n    const bold = await pdfDoc.embedFont(pdf_lib__WEBPACK_IMPORTED_MODULE_1__.StandardFonts.HelveticaBold);\n    const logo = await embedLogo(pdfDoc, logoDataUrl || null);\n    const PAGE_W = 612;\n    const PAGE_H = 792;\n    const margin = 50;\n    const topBodyY = PAGE_H - 155; // after header\n    const bottomSafeY = 110; // keep away from footer\n    const rowHeight = 22;\n    const colDesc = margin;\n    const colQty = margin + 320;\n    const colRate = margin + 385;\n    // Create first page\n    let page = pdfDoc.addPage([\n        PAGE_W,\n        PAGE_H\n    ]);\n    drawHeader({\n        page,\n        width: PAGE_W,\n        height: PAGE_H,\n        margin,\n        regular,\n        bold,\n        companyName,\n        companyEmail,\n        companyPhone,\n        companyAddress,\n        projectTitle,\n        customerName,\n        logo\n    });\n    let y = topBodyY;\n    // Section title\n    page.drawText(\"Line Items\", {\n        x: margin,\n        y,\n        size: 12,\n        font: bold,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.1, 0.1, 0.1)\n    });\n    y -= 14;\n    // Table header\n    y = drawTableHeader({\n        page,\n        y,\n        width: PAGE_W,\n        margin,\n        bold\n    });\n    // Helper: new page when needed\n    function newPageWithHeader() {\n        // Footer previous page\n        drawFooter({\n            page,\n            width: PAGE_W,\n            margin,\n            regular,\n            docId: params.id\n        });\n        page = pdfDoc.addPage([\n            PAGE_W,\n            PAGE_H\n        ]);\n        drawHeader({\n            page,\n            width: PAGE_W,\n            height: PAGE_H,\n            margin,\n            regular,\n            bold,\n            companyName,\n            companyEmail,\n            companyPhone,\n            companyAddress,\n            projectTitle,\n            customerName,\n            logo\n        });\n        y = topBodyY;\n        // Repeat table header on each page\n        page.drawText(\"Line Items (cont.)\", {\n            x: margin,\n            y,\n            size: 12,\n            font: bold,\n            color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.1, 0.1, 0.1)\n        });\n        y -= 14;\n        y = drawTableHeader({\n            page,\n            y,\n            width: PAGE_W,\n            margin,\n            bold\n        });\n    }\n    // Draw rows (paginate)\n    for (const it of safeItems){\n        // If next row would collide with bottom area, go to a new page\n        if (y - rowHeight < bottomSafeY + 120) {\n            newPageWithHeader();\n        }\n        const qty = toNumber(it.qty);\n        const rate = toNumber(it.rate);\n        const amt = qty * rate;\n        // Row separator\n        page.drawLine({\n            start: {\n                x: margin,\n                y: y - 6\n            },\n            end: {\n                x: PAGE_W - margin,\n                y: y - 6\n            },\n            thickness: 1,\n            color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.92, 0.92, 0.92)\n        });\n        const desc = (it.title || \"—\").slice(0, 60);\n        page.drawText(desc, {\n            x: colDesc + 10,\n            y,\n            size: 10.5,\n            font: regular,\n            color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.15, 0.15, 0.15)\n        });\n        page.drawText(String(it.qty || \"—\"), {\n            x: colQty,\n            y,\n            size: 10.5,\n            font: regular,\n            color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.2, 0.2, 0.2)\n        });\n        const rateText = `$${money(rate)}`;\n        page.drawText(rateText, {\n            x: colRate,\n            y,\n            size: 10.5,\n            font: regular,\n            color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.2, 0.2, 0.2)\n        });\n        const amtText = `$${money(amt)}`;\n        page.drawText(amtText, {\n            x: PAGE_W - margin - 10 - regular.widthOfTextAtSize(amtText, 10.5),\n            y,\n            size: 10.5,\n            font: regular,\n            color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.15, 0.15, 0.15)\n        });\n        y -= rowHeight;\n    }\n    // Now we need space for totals + blocks. If not enough, new page.\n    const neededForSummary = 86 + // totals box height\n    12 + // spacing\n    (notes.trim() ? 11 + 14 + 12 * Math.min(wrapText(notes, 95).length, 4) + 10 : 0) + (terms.trim() ? 11 + 14 + 12 * Math.min(wrapText(terms, 95).length, 5) + 10 : 0) + (paymentInfo.trim() ? 11 + 14 + 12 * Math.min(wrapText(paymentInfo, 95).length, 5) + 10 : 0) + 60; // footer buffer\n    if (y - neededForSummary < bottomSafeY) {\n        // close out current page and move summary to new page\n        newPageWithHeader();\n    } else {\n        // Otherwise add a divider line before totals\n        page.drawLine({\n            start: {\n                x: margin,\n                y: y - 8\n            },\n            end: {\n                x: PAGE_W - margin,\n                y: y - 8\n            },\n            thickness: 1,\n            color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.90, 0.90, 0.90)\n        });\n        y -= 26;\n    }\n    // Totals box at current y\n    const totalsBoxHeight = 86;\n    const totalsY = Math.max(y - totalsBoxHeight + 12, bottomSafeY + 120);\n    page.drawRectangle({\n        x: margin,\n        y: totalsY,\n        width: PAGE_W - margin * 2,\n        height: totalsBoxHeight,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.98, 0.98, 0.99),\n        borderColor: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.88, 0.88, 0.88),\n        borderWidth: 1\n    });\n    const left = margin + 16;\n    const rightX = PAGE_W - margin - 16;\n    page.drawText(\"Subtotal\", {\n        x: left,\n        y: totalsY + 58,\n        size: 10,\n        font: regular,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.4, 0.4, 0.4)\n    });\n    page.drawText(\"Tax\", {\n        x: left,\n        y: totalsY + 38,\n        size: 10,\n        font: regular,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.4, 0.4, 0.4)\n    });\n    page.drawText(\"Total\", {\n        x: left,\n        y: totalsY + 14,\n        size: 11,\n        font: bold,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.2, 0.2, 0.2)\n    });\n    const subText = `$${money(subtotal)}`;\n    const taxText = `$${money(tax)} (${taxRate.toFixed(2)}%)`;\n    const totalText = `$${money(total)}`;\n    page.drawText(subText, {\n        x: rightX - regular.widthOfTextAtSize(subText, 10),\n        y: totalsY + 58,\n        size: 10,\n        font: regular,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.15, 0.15, 0.15)\n    });\n    page.drawText(taxText, {\n        x: rightX - regular.widthOfTextAtSize(taxText, 10),\n        y: totalsY + 38,\n        size: 10,\n        font: regular,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.15, 0.15, 0.15)\n    });\n    page.drawText(totalText, {\n        x: rightX - bold.widthOfTextAtSize(totalText, 14),\n        y: totalsY + 12,\n        size: 14,\n        font: bold,\n        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.05, 0.05, 0.05)\n    });\n    // Detail blocks under totals (paginate if needed)\n    y = totalsY - 18;\n    function drawBlock(title, text, maxLines) {\n        const lines = wrapText(text, 95);\n        const use = lines.slice(0, maxLines);\n        // Estimate space\n        const needed = 14 + 12 * use.length + 10; // title+lines+gap\n        if (y - needed < bottomSafeY) {\n            newPageWithHeader();\n            y = topBodyY; // after header\n            // Not repeating \"Line Items\" here; this page is summary continuation.\n            page.drawText(\"Summary (cont.)\", {\n                x: margin,\n                y,\n                size: 12,\n                font: bold,\n                color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.1, 0.1, 0.1)\n            });\n            y -= 18;\n        }\n        page.drawText(title, {\n            x: margin,\n            y,\n            size: 11,\n            font: bold,\n            color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.2, 0.2, 0.2)\n        });\n        y -= 14;\n        for (const line of use){\n            page.drawText(line, {\n                x: margin,\n                y,\n                size: 9.5,\n                font: regular,\n                color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_1__.rgb)(0.25, 0.25, 0.25)\n            });\n            y -= 12;\n        }\n        y -= 10;\n    }\n    if (notes.trim()) drawBlock(\"Notes\", notes, 6);\n    if (terms.trim()) drawBlock(\"Terms\", terms, 8);\n    if (paymentInfo.trim()) drawBlock(\"Payment\", paymentInfo, 8);\n    // Footer on last page\n    drawFooter({\n        page,\n        width: PAGE_W,\n        margin,\n        regular,\n        docId: params.id\n    });\n    const pdfBytes = await pdfDoc.save();\n    return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(Buffer.from(pdfBytes), {\n        headers: {\n            \"Content-Type\": \"application/pdf\",\n            \"Content-Disposition\": `inline; filename=\"${params.id}.pdf\"`\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2RvY3VtZW50cy9baWRdL3BkZi9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFDNEM7QUFTdkYsU0FBU0ksU0FBU0MsS0FBYTtJQUM3QixNQUFNQyxVQUFVLENBQUNELFNBQVMsRUFBQyxFQUFHRSxPQUFPLENBQUMsWUFBWTtJQUNsRCxNQUFNQyxJQUFJQyxPQUFPSDtJQUNqQixPQUFPRyxPQUFPQyxRQUFRLENBQUNGLEtBQUtBLElBQUk7QUFDbEM7QUFFQSxTQUFTRyxNQUFNSCxDQUFTO0lBQ3RCLE9BQU9BLEVBQUVJLGNBQWMsQ0FBQ0MsV0FBVztRQUFFQyx1QkFBdUI7UUFBR0MsdUJBQXVCO0lBQUU7QUFDMUY7QUFFQSxTQUFTQyxTQUFZQyxHQUFrQixFQUFFQyxRQUFXO0lBQ2xELElBQUksQ0FBQ0QsS0FBSyxPQUFPQztJQUNqQixJQUFJO1FBQ0YsT0FBT0MsS0FBS0MsS0FBSyxDQUFDSDtJQUNwQixFQUFFLE9BQU07UUFDTixPQUFPQztJQUNUO0FBQ0Y7QUFFQSxTQUFTRyxTQUFTQyxJQUFZLEVBQUVDLE1BQWM7SUFDNUMsTUFBTUMsUUFBUSxDQUFDRixRQUFRLEVBQUMsRUFBR0csS0FBSyxDQUFDLE9BQU9DLE1BQU0sQ0FBQ0M7SUFDL0MsTUFBTUMsUUFBa0IsRUFBRTtJQUMxQixJQUFJQyxPQUFPO0lBRVgsS0FBSyxNQUFNQyxLQUFLTixNQUFPO1FBQ3JCLE1BQU1PLE9BQU9GLE9BQU8sQ0FBQyxFQUFFQSxLQUFLLENBQUMsRUFBRUMsRUFBRSxDQUFDLEdBQUdBO1FBQ3JDLElBQUlDLEtBQUtDLE1BQU0sR0FBR1QsUUFBUTtZQUN4QixJQUFJTSxNQUFNRCxNQUFNSyxJQUFJLENBQUNKO1lBQ3JCQSxPQUFPQztRQUNULE9BQU87WUFDTEQsT0FBT0U7UUFDVDtJQUNGO0lBQ0EsSUFBSUYsTUFBTUQsTUFBTUssSUFBSSxDQUFDSjtJQUNyQixPQUFPRCxNQUFNSSxNQUFNLEdBQUdKLFFBQVE7UUFBQztLQUFJO0FB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akMsYUFBYTtJQUUxRCxzQkFBc0I7SUFDdEI1QixXQUFXO1FBQUV2QztRQUFNQyxPQUFPdUU7UUFBUXJFO1FBQVFDO1FBQVNvQyxPQUFPSyxPQUFPVSxFQUFFO0lBQUM7SUFFcEUsTUFBTWlELFdBQVcsTUFBTXRILE9BQU91SCxJQUFJO0lBRWxDLE9BQU8sSUFBSTFKLHFEQUFZQSxDQUFDMEMsT0FBT0MsSUFBSSxDQUFDOEcsV0FBVztRQUM3Q0UsU0FBUztZQUNQLGdCQUFnQjtZQUNoQix1QkFBdUIsQ0FBQyxrQkFBa0IsRUFBRTdELE9BQU9VLEVBQUUsQ0FBQyxLQUFLLENBQUM7UUFDOUQ7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVpY2tkb2NzLy4vYXBwL2FwaS9kb2N1bWVudHMvW2lkXS9wZGYvcm91dGUudHM/ZDk2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IFBERkRvY3VtZW50LCBTdGFuZGFyZEZvbnRzLCByZ2IsIHR5cGUgUERGUGFnZSwgdHlwZSBQREZJbWFnZSB9IGZyb20gXCJwZGYtbGliXCI7XG5cbnR5cGUgTGluZUl0ZW0gPSB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHF0eTogc3RyaW5nO1xuICByYXRlOiBzdHJpbmc7XG59O1xuXG5mdW5jdGlvbiB0b051bWJlcihpbnB1dDogc3RyaW5nKSB7XG4gIGNvbnN0IGNsZWFuZWQgPSAoaW5wdXQgfHwgXCJcIikucmVwbGFjZSgvW14wLTkuXS9nLCBcIlwiKTtcbiAgY29uc3QgbiA9IE51bWJlcihjbGVhbmVkKTtcbiAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShuKSA/IG4gOiAwO1xufVxuXG5mdW5jdGlvbiBtb25leShuOiBudW1iZXIpIHtcbiAgcmV0dXJuIG4udG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMiwgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyIH0pO1xufVxuXG5mdW5jdGlvbiBzYWZlSnNvbjxUPihyYXc6IHN0cmluZyB8IG51bGwsIGZhbGxiYWNrOiBUKTogVCB7XG4gIGlmICghcmF3KSByZXR1cm4gZmFsbGJhY2s7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UocmF3KSBhcyBUO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZmFsbGJhY2s7XG4gIH1cbn1cblxuZnVuY3Rpb24gd3JhcFRleHQodGV4dDogc3RyaW5nLCBtYXhMZW46IG51bWJlcikge1xuICBjb25zdCB3b3JkcyA9ICh0ZXh0IHx8IFwiXCIpLnNwbGl0KC9cXHMrLykuZmlsdGVyKEJvb2xlYW4pO1xuICBjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXTtcbiAgbGV0IGxpbmUgPSBcIlwiO1xuXG4gIGZvciAoY29uc3QgdyBvZiB3b3Jkcykge1xuICAgIGNvbnN0IG5leHQgPSBsaW5lID8gYCR7bGluZX0gJHt3fWAgOiB3O1xuICAgIGlmIChuZXh0Lmxlbmd0aCA+IG1heExlbikge1xuICAgICAgaWYgKGxpbmUpIGxpbmVzLnB1c2gobGluZSk7XG4gICAgICBsaW5lID0gdztcbiAgICB9IGVsc2Uge1xuICAgICAgbGluZSA9IG5leHQ7XG4gICAgfVxuICB9XG4gIGlmIChsaW5lKSBsaW5lcy5wdXNoKGxpbmUpO1xuICByZXR1cm4gbGluZXMubGVuZ3RoID8gbGluZXMgOiBbXCLigJRcIl07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGVtYmVkTG9nbyhwZGZEb2M6IFBERkRvY3VtZW50LCBsb2dvRGF0YVVybDogc3RyaW5nIHwgbnVsbCkge1xuICBpZiAoIWxvZ29EYXRhVXJsKSByZXR1cm4gbnVsbDtcbiAgaWYgKCFsb2dvRGF0YVVybC5zdGFydHNXaXRoKFwiZGF0YTppbWFnZS9cIikpIHJldHVybiBudWxsO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgaXNQbmcgPSBsb2dvRGF0YVVybC5zdGFydHNXaXRoKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LFwiKTtcbiAgICBjb25zdCBpc0pwZyA9XG4gICAgICBsb2dvRGF0YVVybC5zdGFydHNXaXRoKFwiZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxcIikgfHxcbiAgICAgIGxvZ29EYXRhVXJsLnN0YXJ0c1dpdGgoXCJkYXRhOmltYWdlL2pwZztiYXNlNjQsXCIpO1xuXG4gICAgY29uc3QgYmFzZTY0ID0gbG9nb0RhdGFVcmwuc3BsaXQoXCIsXCIpWzFdIHx8IFwiXCI7XG4gICAgY29uc3QgYnl0ZXMgPSBCdWZmZXIuZnJvbShiYXNlNjQsIFwiYmFzZTY0XCIpO1xuXG4gICAgY29uc3QgaW1nID0gaXNQbmdcbiAgICAgID8gYXdhaXQgcGRmRG9jLmVtYmVkUG5nKGJ5dGVzKVxuICAgICAgOiBpc0pwZ1xuICAgICAgPyBhd2FpdCBwZGZEb2MuZW1iZWRKcGcoYnl0ZXMpXG4gICAgICA6IG51bGw7XG5cbiAgICByZXR1cm4gaW1nO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBkcmF3SGVhZGVyKG9wdHM6IHtcbiAgcGFnZTogUERGUGFnZTtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIG1hcmdpbjogbnVtYmVyO1xuICByZWd1bGFyOiBhbnk7XG4gIGJvbGQ6IGFueTtcbiAgY29tcGFueU5hbWU6IHN0cmluZztcbiAgY29tcGFueUVtYWlsOiBzdHJpbmc7XG4gIGNvbXBhbnlQaG9uZTogc3RyaW5nO1xuICBjb21wYW55QWRkcmVzczogc3RyaW5nO1xuICBwcm9qZWN0VGl0bGU6IHN0cmluZztcbiAgY3VzdG9tZXJOYW1lOiBzdHJpbmc7XG4gIGxvZ28/OiBQREZJbWFnZSB8IG51bGw7XG59KSB7XG4gIGNvbnN0IHtcbiAgICBwYWdlLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBtYXJnaW4sXG4gICAgcmVndWxhcixcbiAgICBib2xkLFxuICAgIGNvbXBhbnlOYW1lLFxuICAgIGNvbXBhbnlFbWFpbCxcbiAgICBjb21wYW55UGhvbmUsXG4gICAgY29tcGFueUFkZHJlc3MsXG4gICAgcHJvamVjdFRpdGxlLFxuICAgIGN1c3RvbWVyTmFtZSxcbiAgICBsb2dvLFxuICB9ID0gb3B0cztcblxuICAvLyBIZWFkZXIgYmFyXG4gIHBhZ2UuZHJhd1JlY3RhbmdsZSh7XG4gICAgeDogMCxcbiAgICB5OiBoZWlnaHQgLSAxMjAsXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0OiAxMjAsXG4gICAgY29sb3I6IHJnYigwLjk2LCAwLjk3LCAwLjk4KSxcbiAgfSk7XG5cbiAgLy8gT3B0aW9uYWwgbG9nbyAobGVmdClcbiAgbGV0IGxlZnRYID0gbWFyZ2luO1xuICBpZiAobG9nbykge1xuICAgIGNvbnN0IGJveCA9IDQ4O1xuICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4oYm94IC8gbG9nby53aWR0aCwgYm94IC8gbG9nby5oZWlnaHQpO1xuICAgIGNvbnN0IHcgPSBsb2dvLndpZHRoICogc2NhbGU7XG4gICAgY29uc3QgaCA9IGxvZ28uaGVpZ2h0ICogc2NhbGU7XG5cbiAgICBwYWdlLmRyYXdJbWFnZShsb2dvLCB7XG4gICAgICB4OiBtYXJnaW4sXG4gICAgICB5OiBoZWlnaHQgLSA3OCAtIGggLyAyLFxuICAgICAgd2lkdGg6IHcsXG4gICAgICBoZWlnaHQ6IGgsXG4gICAgfSk7XG5cbiAgICBsZWZ0WCA9IG1hcmdpbiArIDYyO1xuICB9XG5cbiAgLy8gQ29tcGFueSBuYW1lXG4gIHBhZ2UuZHJhd1RleHQoY29tcGFueU5hbWUsIHtcbiAgICB4OiBsZWZ0WCxcbiAgICB5OiBoZWlnaHQgLSA1NixcbiAgICBzaXplOiAxNixcbiAgICBmb250OiBib2xkLFxuICAgIGNvbG9yOiByZ2IoMC4wNSwgMC4wNSwgMC4wNSksXG4gIH0pO1xuXG4gIC8vIENvbnRhY3RcbiAgY29uc3QgY29udGFjdExpbmUgPSBbY29tcGFueUVtYWlsLCBjb21wYW55UGhvbmVdLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIOKAoiBcIik7XG4gIGlmIChjb250YWN0TGluZSkge1xuICAgIHBhZ2UuZHJhd1RleHQoY29udGFjdExpbmUsIHtcbiAgICAgIHg6IGxlZnRYLFxuICAgICAgeTogaGVpZ2h0IC0gNzQsXG4gICAgICBzaXplOiAxMCxcbiAgICAgIGZvbnQ6IHJlZ3VsYXIsXG4gICAgICBjb2xvcjogcmdiKDAuNDUsIDAuNDUsIDAuNDUpLFxuICAgIH0pO1xuICB9XG4gIGlmIChjb21wYW55QWRkcmVzcykge1xuICAgIHBhZ2UuZHJhd1RleHQoY29tcGFueUFkZHJlc3MsIHtcbiAgICAgIHg6IGxlZnRYLFxuICAgICAgeTogaGVpZ2h0IC0gODgsXG4gICAgICBzaXplOiAxMCxcbiAgICAgIGZvbnQ6IHJlZ3VsYXIsXG4gICAgICBjb2xvcjogcmdiKDAuNDUsIDAuNDUsIDAuNDUpLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gUmlnaHQ6IFRpdGxlICsgUHJlcGFyZWQgZm9yXG4gIHBhZ2UuZHJhd1RleHQocHJvamVjdFRpdGxlLCB7XG4gICAgeDogd2lkdGggLSBtYXJnaW4gLSBib2xkLndpZHRoT2ZUZXh0QXRTaXplKHByb2plY3RUaXRsZSwgMTgpLFxuICAgIHk6IGhlaWdodCAtIDU4LFxuICAgIHNpemU6IDE4LFxuICAgIGZvbnQ6IGJvbGQsXG4gICAgY29sb3I6IHJnYigwLjA1LCAwLjA1LCAwLjA1KSxcbiAgfSk7XG5cbiAgY29uc3QgcHJlcGFyZWRGb3IgPSBgUHJlcGFyZWQgZm9yOiAke2N1c3RvbWVyTmFtZSB8fCBcIuKAlFwifWA7XG4gIHBhZ2UuZHJhd1RleHQocHJlcGFyZWRGb3IsIHtcbiAgICB4OiB3aWR0aCAtIG1hcmdpbiAtIHJlZ3VsYXIud2lkdGhPZlRleHRBdFNpemUocHJlcGFyZWRGb3IsIDEwKSxcbiAgICB5OiBoZWlnaHQgLSA3OCxcbiAgICBzaXplOiAxMCxcbiAgICBmb250OiByZWd1bGFyLFxuICAgIGNvbG9yOiByZ2IoMC40NSwgMC40NSwgMC40NSksXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBkcmF3VGFibGVIZWFkZXIob3B0czoge1xuICBwYWdlOiBQREZQYWdlO1xuICB5OiBudW1iZXI7XG4gIHdpZHRoOiBudW1iZXI7XG4gIG1hcmdpbjogbnVtYmVyO1xuICBib2xkOiBhbnk7XG59KSB7XG4gIGNvbnN0IHsgcGFnZSwgeSwgd2lkdGgsIG1hcmdpbiwgYm9sZCB9ID0gb3B0cztcblxuICBjb25zdCBoZWFkZXJZID0geTtcblxuICBwYWdlLmRyYXdSZWN0YW5nbGUoe1xuICAgIHg6IG1hcmdpbixcbiAgICB5OiBoZWFkZXJZIC0gMTgsXG4gICAgd2lkdGg6IHdpZHRoIC0gbWFyZ2luICogMixcbiAgICBoZWlnaHQ6IDI0LFxuICAgIGNvbG9yOiByZ2IoMC45OCwgMC45OCwgMC45OSksXG4gICAgYm9yZGVyQ29sb3I6IHJnYigwLjg4LCAwLjg4LCAwLjg4KSxcbiAgICBib3JkZXJXaWR0aDogMSxcbiAgfSk7XG5cbiAgY29uc3QgY29sRGVzYyA9IG1hcmdpbjtcbiAgY29uc3QgY29sUXR5ID0gbWFyZ2luICsgMzIwO1xuICBjb25zdCBjb2xSYXRlID0gbWFyZ2luICsgMzg1O1xuICBjb25zdCBjb2xBbXQgPSBtYXJnaW4gKyA0NzA7XG5cbiAgcGFnZS5kcmF3VGV4dChcIkRlc2NyaXB0aW9uXCIsIHtcbiAgICB4OiBjb2xEZXNjICsgMTAsXG4gICAgeTogaGVhZGVyWSAtIDEyLFxuICAgIHNpemU6IDEwLFxuICAgIGZvbnQ6IGJvbGQsXG4gICAgY29sb3I6IHJnYigwLjM1LCAwLjM1LCAwLjM1KSxcbiAgfSk7XG4gIHBhZ2UuZHJhd1RleHQoXCJRdHlcIiwge1xuICAgIHg6IGNvbFF0eSxcbiAgICB5OiBoZWFkZXJZIC0gMTIsXG4gICAgc2l6ZTogMTAsXG4gICAgZm9udDogYm9sZCxcbiAgICBjb2xvcjogcmdiKDAuMzUsIDAuMzUsIDAuMzUpLFxuICB9KTtcbiAgcGFnZS5kcmF3VGV4dChcIlJhdGVcIiwge1xuICAgIHg6IGNvbFJhdGUsXG4gICAgeTogaGVhZGVyWSAtIDEyLFxuICAgIHNpemU6IDEwLFxuICAgIGZvbnQ6IGJvbGQsXG4gICAgY29sb3I6IHJnYigwLjM1LCAwLjM1LCAwLjM1KSxcbiAgfSk7XG4gIHBhZ2UuZHJhd1RleHQoXCJBbW91bnRcIiwge1xuICAgIHg6IGNvbEFtdCxcbiAgICB5OiBoZWFkZXJZIC0gMTIsXG4gICAgc2l6ZTogMTAsXG4gICAgZm9udDogYm9sZCxcbiAgICBjb2xvcjogcmdiKDAuMzUsIDAuMzUsIDAuMzUpLFxuICB9KTtcblxuICByZXR1cm4gaGVhZGVyWSAtIDMwOyAvLyBuZXh0IHkgYWZ0ZXIgaGVhZGVyXG59XG5cbmZ1bmN0aW9uIGRyYXdGb290ZXIob3B0czoge1xuICBwYWdlOiBQREZQYWdlO1xuICB3aWR0aDogbnVtYmVyO1xuICBtYXJnaW46IG51bWJlcjtcbiAgcmVndWxhcjogYW55O1xuICBkb2NJZDogc3RyaW5nO1xufSkge1xuICBjb25zdCB7IHBhZ2UsIHdpZHRoLCBtYXJnaW4sIHJlZ3VsYXIsIGRvY0lkIH0gPSBvcHRzO1xuICBjb25zdCBmb290ZXJZID0gNjA7XG5cbiAgcGFnZS5kcmF3VGV4dChgRG9jdW1lbnQgSUQ6ICR7ZG9jSWR9YCwge1xuICAgIHg6IG1hcmdpbixcbiAgICB5OiBmb290ZXJZLFxuICAgIHNpemU6IDguNSxcbiAgICBmb250OiByZWd1bGFyLFxuICAgIGNvbG9yOiByZ2IoMC41LCAwLjUsIDAuNSksXG4gIH0pO1xuXG4gIGNvbnN0IHJpZ2h0ID0gXCJHZW5lcmF0ZWQgd2l0aCBRdWlja0RvY3NcIjtcbiAgcGFnZS5kcmF3VGV4dChyaWdodCwge1xuICAgIHg6IHdpZHRoIC0gbWFyZ2luIC0gcmVndWxhci53aWR0aE9mVGV4dEF0U2l6ZShyaWdodCwgOC41KSxcbiAgICB5OiBmb290ZXJZLFxuICAgIHNpemU6IDguNSxcbiAgICBmb250OiByZWd1bGFyLFxuICAgIGNvbG9yOiByZ2IoMC41LCAwLjUsIDAuNSksXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKFxuICByZXF1ZXN0OiBSZXF1ZXN0LFxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxuKSB7XG4gIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuXG4gIC8vIEJyYW5kaW5nXG4gIGNvbnN0IGNvbXBhbnlOYW1lID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJjb21wYW55TmFtZVwiKSB8fCBcIllvdXIgQ29tcGFueVwiO1xuICBjb25zdCBjb21wYW55RW1haWwgPSB1cmwuc2VhcmNoUGFyYW1zLmdldChcImNvbXBhbnlFbWFpbFwiKSB8fCBcIlwiO1xuICBjb25zdCBjb21wYW55UGhvbmUgPSB1cmwuc2VhcmNoUGFyYW1zLmdldChcImNvbXBhbnlQaG9uZVwiKSB8fCBcIlwiO1xuICBjb25zdCBjb21wYW55QWRkcmVzcyA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KFwiY29tcGFueUFkZHJlc3NcIikgfHwgXCJcIjtcbiAgY29uc3QgbG9nb0RhdGFVcmwgPSB1cmwuc2VhcmNoUGFyYW1zLmdldChcImxvZ29EYXRhVXJsXCIpO1xuXG4gIC8vIERvY1xuICBjb25zdCBjdXN0b21lck5hbWUgPSB1cmwuc2VhcmNoUGFyYW1zLmdldChcImN1c3RvbWVyTmFtZVwiKSB8fCBcIuKAlFwiO1xuICBjb25zdCBwcm9qZWN0VGl0bGUgPSB1cmwuc2VhcmNoUGFyYW1zLmdldChcInByb2plY3RUaXRsZVwiKSB8fCBcIkVzdGltYXRlXCI7XG5cbiAgLy8gSXRlbXMgKyB0YXhcbiAgY29uc3QgaXRlbXMgPSBzYWZlSnNvbjxMaW5lSXRlbVtdPih1cmwuc2VhcmNoUGFyYW1zLmdldChcIml0ZW1zXCIpLCBbXSk7XG4gIGNvbnN0IHRheFJhdGUgPSB0b051bWJlcih1cmwuc2VhcmNoUGFyYW1zLmdldChcInRheFJhdGVcIikgfHwgXCIwXCIpO1xuXG4gIGNvbnN0IHNhZmVJdGVtcyA9XG4gICAgQXJyYXkuaXNBcnJheShpdGVtcykgJiYgaXRlbXMubGVuZ3RoXG4gICAgICA/IGl0ZW1zXG4gICAgICA6IFt7IGlkOiBcInhcIiwgdGl0bGU6IFwi4oCUXCIsIHF0eTogXCIwXCIsIHJhdGU6IFwiMFwiIH1dO1xuXG4gIGNvbnN0IHN1YnRvdGFsID0gc2FmZUl0ZW1zLnJlZHVjZShcbiAgICAoc3VtLCBpdCkgPT4gc3VtICsgdG9OdW1iZXIoaXQucXR5KSAqIHRvTnVtYmVyKGl0LnJhdGUpLFxuICAgIDBcbiAgKTtcbiAgY29uc3QgdGF4ID0gc3VidG90YWwgKiAodGF4UmF0ZSAvIDEwMCk7XG4gIGNvbnN0IHRvdGFsID0gc3VidG90YWwgKyB0YXg7XG5cbiAgLy8gTm90ZXMgLyB0ZXJtcyAvIHBheW1lbnRcbiAgY29uc3Qgbm90ZXMgPSB1cmwuc2VhcmNoUGFyYW1zLmdldChcIm5vdGVzXCIpIHx8IFwiXCI7XG4gIGNvbnN0IHRlcm1zID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJ0ZXJtc1wiKSB8fCBcIlwiO1xuICBjb25zdCBwYXltZW50SW5mbyA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KFwicGF5bWVudEluZm9cIikgfHwgXCJcIjtcblxuICAvLyBQREYgc2V0dXBcbiAgY29uc3QgcGRmRG9jID0gYXdhaXQgUERGRG9jdW1lbnQuY3JlYXRlKCk7XG4gIGNvbnN0IHJlZ3VsYXIgPSBhd2FpdCBwZGZEb2MuZW1iZWRGb250KFN0YW5kYXJkRm9udHMuSGVsdmV0aWNhKTtcbiAgY29uc3QgYm9sZCA9IGF3YWl0IHBkZkRvYy5lbWJlZEZvbnQoU3RhbmRhcmRGb250cy5IZWx2ZXRpY2FCb2xkKTtcblxuICBjb25zdCBsb2dvID0gYXdhaXQgZW1iZWRMb2dvKHBkZkRvYywgbG9nb0RhdGFVcmwgfHwgbnVsbCk7XG5cbiAgY29uc3QgUEFHRV9XID0gNjEyO1xuICBjb25zdCBQQUdFX0ggPSA3OTI7XG4gIGNvbnN0IG1hcmdpbiA9IDUwO1xuXG4gIGNvbnN0IHRvcEJvZHlZID0gUEFHRV9IIC0gMTU1OyAvLyBhZnRlciBoZWFkZXJcbiAgY29uc3QgYm90dG9tU2FmZVkgPSAxMTA7IC8vIGtlZXAgYXdheSBmcm9tIGZvb3RlclxuICBjb25zdCByb3dIZWlnaHQgPSAyMjtcblxuICBjb25zdCBjb2xEZXNjID0gbWFyZ2luO1xuICBjb25zdCBjb2xRdHkgPSBtYXJnaW4gKyAzMjA7XG4gIGNvbnN0IGNvbFJhdGUgPSBtYXJnaW4gKyAzODU7XG5cbiAgLy8gQ3JlYXRlIGZpcnN0IHBhZ2VcbiAgbGV0IHBhZ2UgPSBwZGZEb2MuYWRkUGFnZShbUEFHRV9XLCBQQUdFX0hdKTtcbiAgZHJhd0hlYWRlcih7XG4gICAgcGFnZSxcbiAgICB3aWR0aDogUEFHRV9XLFxuICAgIGhlaWdodDogUEFHRV9ILFxuICAgIG1hcmdpbixcbiAgICByZWd1bGFyLFxuICAgIGJvbGQsXG4gICAgY29tcGFueU5hbWUsXG4gICAgY29tcGFueUVtYWlsLFxuICAgIGNvbXBhbnlQaG9uZSxcbiAgICBjb21wYW55QWRkcmVzcyxcbiAgICBwcm9qZWN0VGl0bGUsXG4gICAgY3VzdG9tZXJOYW1lLFxuICAgIGxvZ28sXG4gIH0pO1xuXG4gIGxldCB5ID0gdG9wQm9keVk7XG5cbiAgLy8gU2VjdGlvbiB0aXRsZVxuICBwYWdlLmRyYXdUZXh0KFwiTGluZSBJdGVtc1wiLCB7XG4gICAgeDogbWFyZ2luLFxuICAgIHksXG4gICAgc2l6ZTogMTIsXG4gICAgZm9udDogYm9sZCxcbiAgICBjb2xvcjogcmdiKDAuMSwgMC4xLCAwLjEpLFxuICB9KTtcbiAgeSAtPSAxNDtcblxuICAvLyBUYWJsZSBoZWFkZXJcbiAgeSA9IGRyYXdUYWJsZUhlYWRlcih7IHBhZ2UsIHksIHdpZHRoOiBQQUdFX1csIG1hcmdpbiwgYm9sZCB9KTtcblxuICAvLyBIZWxwZXI6IG5ldyBwYWdlIHdoZW4gbmVlZGVkXG4gIGZ1bmN0aW9uIG5ld1BhZ2VXaXRoSGVhZGVyKCkge1xuICAgIC8vIEZvb3RlciBwcmV2aW91cyBwYWdlXG4gICAgZHJhd0Zvb3Rlcih7IHBhZ2UsIHdpZHRoOiBQQUdFX1csIG1hcmdpbiwgcmVndWxhciwgZG9jSWQ6IHBhcmFtcy5pZCB9KTtcblxuICAgIHBhZ2UgPSBwZGZEb2MuYWRkUGFnZShbUEFHRV9XLCBQQUdFX0hdKTtcbiAgICBkcmF3SGVhZGVyKHtcbiAgICAgIHBhZ2UsXG4gICAgICB3aWR0aDogUEFHRV9XLFxuICAgICAgaGVpZ2h0OiBQQUdFX0gsXG4gICAgICBtYXJnaW4sXG4gICAgICByZWd1bGFyLFxuICAgICAgYm9sZCxcbiAgICAgIGNvbXBhbnlOYW1lLFxuICAgICAgY29tcGFueUVtYWlsLFxuICAgICAgY29tcGFueVBob25lLFxuICAgICAgY29tcGFueUFkZHJlc3MsXG4gICAgICBwcm9qZWN0VGl0bGUsXG4gICAgICBjdXN0b21lck5hbWUsXG4gICAgICBsb2dvLFxuICAgIH0pO1xuXG4gICAgeSA9IHRvcEJvZHlZO1xuXG4gICAgLy8gUmVwZWF0IHRhYmxlIGhlYWRlciBvbiBlYWNoIHBhZ2VcbiAgICBwYWdlLmRyYXdUZXh0KFwiTGluZSBJdGVtcyAoY29udC4pXCIsIHtcbiAgICAgIHg6IG1hcmdpbixcbiAgICAgIHksXG4gICAgICBzaXplOiAxMixcbiAgICAgIGZvbnQ6IGJvbGQsXG4gICAgICBjb2xvcjogcmdiKDAuMSwgMC4xLCAwLjEpLFxuICAgIH0pO1xuICAgIHkgLT0gMTQ7XG4gICAgeSA9IGRyYXdUYWJsZUhlYWRlcih7IHBhZ2UsIHksIHdpZHRoOiBQQUdFX1csIG1hcmdpbiwgYm9sZCB9KTtcbiAgfVxuXG4gIC8vIERyYXcgcm93cyAocGFnaW5hdGUpXG4gIGZvciAoY29uc3QgaXQgb2Ygc2FmZUl0ZW1zKSB7XG4gICAgLy8gSWYgbmV4dCByb3cgd291bGQgY29sbGlkZSB3aXRoIGJvdHRvbSBhcmVhLCBnbyB0byBhIG5ldyBwYWdlXG4gICAgaWYgKHkgLSByb3dIZWlnaHQgPCBib3R0b21TYWZlWSArIDEyMCkge1xuICAgICAgbmV3UGFnZVdpdGhIZWFkZXIoKTtcbiAgICB9XG5cbiAgICBjb25zdCBxdHkgPSB0b051bWJlcihpdC5xdHkpO1xuICAgIGNvbnN0IHJhdGUgPSB0b051bWJlcihpdC5yYXRlKTtcbiAgICBjb25zdCBhbXQgPSBxdHkgKiByYXRlO1xuXG4gICAgLy8gUm93IHNlcGFyYXRvclxuICAgIHBhZ2UuZHJhd0xpbmUoe1xuICAgICAgc3RhcnQ6IHsgeDogbWFyZ2luLCB5OiB5IC0gNiB9LFxuICAgICAgZW5kOiB7IHg6IFBBR0VfVyAtIG1hcmdpbiwgeTogeSAtIDYgfSxcbiAgICAgIHRoaWNrbmVzczogMSxcbiAgICAgIGNvbG9yOiByZ2IoMC45MiwgMC45MiwgMC45MiksXG4gICAgfSk7XG5cbiAgICBjb25zdCBkZXNjID0gKGl0LnRpdGxlIHx8IFwi4oCUXCIpLnNsaWNlKDAsIDYwKTtcbiAgICBwYWdlLmRyYXdUZXh0KGRlc2MsIHtcbiAgICAgIHg6IGNvbERlc2MgKyAxMCxcbiAgICAgIHksXG4gICAgICBzaXplOiAxMC41LFxuICAgICAgZm9udDogcmVndWxhcixcbiAgICAgIGNvbG9yOiByZ2IoMC4xNSwgMC4xNSwgMC4xNSksXG4gICAgfSk7XG5cbiAgICBwYWdlLmRyYXdUZXh0KFN0cmluZyhpdC5xdHkgfHwgXCLigJRcIiksIHtcbiAgICAgIHg6IGNvbFF0eSxcbiAgICAgIHksXG4gICAgICBzaXplOiAxMC41LFxuICAgICAgZm9udDogcmVndWxhcixcbiAgICAgIGNvbG9yOiByZ2IoMC4yLCAwLjIsIDAuMiksXG4gICAgfSk7XG5cbiAgICBjb25zdCByYXRlVGV4dCA9IGAkJHttb25leShyYXRlKX1gO1xuICAgIHBhZ2UuZHJhd1RleHQocmF0ZVRleHQsIHtcbiAgICAgIHg6IGNvbFJhdGUsXG4gICAgICB5LFxuICAgICAgc2l6ZTogMTAuNSxcbiAgICAgIGZvbnQ6IHJlZ3VsYXIsXG4gICAgICBjb2xvcjogcmdiKDAuMiwgMC4yLCAwLjIpLFxuICAgIH0pO1xuXG4gICAgY29uc3QgYW10VGV4dCA9IGAkJHttb25leShhbXQpfWA7XG4gICAgcGFnZS5kcmF3VGV4dChhbXRUZXh0LCB7XG4gICAgICB4OiBQQUdFX1cgLSBtYXJnaW4gLSAxMCAtIHJlZ3VsYXIud2lkdGhPZlRleHRBdFNpemUoYW10VGV4dCwgMTAuNSksXG4gICAgICB5LFxuICAgICAgc2l6ZTogMTAuNSxcbiAgICAgIGZvbnQ6IHJlZ3VsYXIsXG4gICAgICBjb2xvcjogcmdiKDAuMTUsIDAuMTUsIDAuMTUpLFxuICAgIH0pO1xuXG4gICAgeSAtPSByb3dIZWlnaHQ7XG4gIH1cblxuICAvLyBOb3cgd2UgbmVlZCBzcGFjZSBmb3IgdG90YWxzICsgYmxvY2tzLiBJZiBub3QgZW5vdWdoLCBuZXcgcGFnZS5cbiAgY29uc3QgbmVlZGVkRm9yU3VtbWFyeSA9XG4gICAgODYgKyAvLyB0b3RhbHMgYm94IGhlaWdodFxuICAgIDEyICsgLy8gc3BhY2luZ1xuICAgIChub3Rlcy50cmltKCkgPyAxMSArIDE0ICsgMTIgKiBNYXRoLm1pbih3cmFwVGV4dChub3RlcywgOTUpLmxlbmd0aCwgNCkgKyAxMCA6IDApICtcbiAgICAodGVybXMudHJpbSgpID8gMTEgKyAxNCArIDEyICogTWF0aC5taW4od3JhcFRleHQodGVybXMsIDk1KS5sZW5ndGgsIDUpICsgMTAgOiAwKSArXG4gICAgKHBheW1lbnRJbmZvLnRyaW0oKSA/IDExICsgMTQgKyAxMiAqIE1hdGgubWluKHdyYXBUZXh0KHBheW1lbnRJbmZvLCA5NSkubGVuZ3RoLCA1KSArIDEwIDogMCkgK1xuICAgIDYwOyAvLyBmb290ZXIgYnVmZmVyXG5cbiAgaWYgKHkgLSBuZWVkZWRGb3JTdW1tYXJ5IDwgYm90dG9tU2FmZVkpIHtcbiAgICAvLyBjbG9zZSBvdXQgY3VycmVudCBwYWdlIGFuZCBtb3ZlIHN1bW1hcnkgdG8gbmV3IHBhZ2VcbiAgICBuZXdQYWdlV2l0aEhlYWRlcigpO1xuICB9IGVsc2Uge1xuICAgIC8vIE90aGVyd2lzZSBhZGQgYSBkaXZpZGVyIGxpbmUgYmVmb3JlIHRvdGFsc1xuICAgIHBhZ2UuZHJhd0xpbmUoe1xuICAgICAgc3RhcnQ6IHsgeDogbWFyZ2luLCB5OiB5IC0gOCB9LFxuICAgICAgZW5kOiB7IHg6IFBBR0VfVyAtIG1hcmdpbiwgeTogeSAtIDggfSxcbiAgICAgIHRoaWNrbmVzczogMSxcbiAgICAgIGNvbG9yOiByZ2IoMC45MCwgMC45MCwgMC45MCksXG4gICAgfSk7XG4gICAgeSAtPSAyNjtcbiAgfVxuXG4gIC8vIFRvdGFscyBib3ggYXQgY3VycmVudCB5XG4gIGNvbnN0IHRvdGFsc0JveEhlaWdodCA9IDg2O1xuICBjb25zdCB0b3RhbHNZID0gTWF0aC5tYXgoeSAtIHRvdGFsc0JveEhlaWdodCArIDEyLCBib3R0b21TYWZlWSArIDEyMCk7XG5cbiAgcGFnZS5kcmF3UmVjdGFuZ2xlKHtcbiAgICB4OiBtYXJnaW4sXG4gICAgeTogdG90YWxzWSxcbiAgICB3aWR0aDogUEFHRV9XIC0gbWFyZ2luICogMixcbiAgICBoZWlnaHQ6IHRvdGFsc0JveEhlaWdodCxcbiAgICBjb2xvcjogcmdiKDAuOTgsIDAuOTgsIDAuOTkpLFxuICAgIGJvcmRlckNvbG9yOiByZ2IoMC44OCwgMC44OCwgMC44OCksXG4gICAgYm9yZGVyV2lkdGg6IDEsXG4gIH0pO1xuXG4gIGNvbnN0IGxlZnQgPSBtYXJnaW4gKyAxNjtcbiAgY29uc3QgcmlnaHRYID0gUEFHRV9XIC0gbWFyZ2luIC0gMTY7XG5cbiAgcGFnZS5kcmF3VGV4dChcIlN1YnRvdGFsXCIsIHtcbiAgICB4OiBsZWZ0LFxuICAgIHk6IHRvdGFsc1kgKyA1OCxcbiAgICBzaXplOiAxMCxcbiAgICBmb250OiByZWd1bGFyLFxuICAgIGNvbG9yOiByZ2IoMC40LCAwLjQsIDAuNCksXG4gIH0pO1xuICBwYWdlLmRyYXdUZXh0KFwiVGF4XCIsIHtcbiAgICB4OiBsZWZ0LFxuICAgIHk6IHRvdGFsc1kgKyAzOCxcbiAgICBzaXplOiAxMCxcbiAgICBmb250OiByZWd1bGFyLFxuICAgIGNvbG9yOiByZ2IoMC40LCAwLjQsIDAuNCksXG4gIH0pO1xuICBwYWdlLmRyYXdUZXh0KFwiVG90YWxcIiwge1xuICAgIHg6IGxlZnQsXG4gICAgeTogdG90YWxzWSArIDE0LFxuICAgIHNpemU6IDExLFxuICAgIGZvbnQ6IGJvbGQsXG4gICAgY29sb3I6IHJnYigwLjIsIDAuMiwgMC4yKSxcbiAgfSk7XG5cbiAgY29uc3Qgc3ViVGV4dCA9IGAkJHttb25leShzdWJ0b3RhbCl9YDtcbiAgY29uc3QgdGF4VGV4dCA9IGAkJHttb25leSh0YXgpfSAoJHt0YXhSYXRlLnRvRml4ZWQoMil9JSlgO1xuICBjb25zdCB0b3RhbFRleHQgPSBgJCR7bW9uZXkodG90YWwpfWA7XG5cbiAgcGFnZS5kcmF3VGV4dChzdWJUZXh0LCB7XG4gICAgeDogcmlnaHRYIC0gcmVndWxhci53aWR0aE9mVGV4dEF0U2l6ZShzdWJUZXh0LCAxMCksXG4gICAgeTogdG90YWxzWSArIDU4LFxuICAgIHNpemU6IDEwLFxuICAgIGZvbnQ6IHJlZ3VsYXIsXG4gICAgY29sb3I6IHJnYigwLjE1LCAwLjE1LCAwLjE1KSxcbiAgfSk7XG4gIHBhZ2UuZHJhd1RleHQodGF4VGV4dCwge1xuICAgIHg6IHJpZ2h0WCAtIHJlZ3VsYXIud2lkdGhPZlRleHRBdFNpemUodGF4VGV4dCwgMTApLFxuICAgIHk6IHRvdGFsc1kgKyAzOCxcbiAgICBzaXplOiAxMCxcbiAgICBmb250OiByZWd1bGFyLFxuICAgIGNvbG9yOiByZ2IoMC4xNSwgMC4xNSwgMC4xNSksXG4gIH0pO1xuICBwYWdlLmRyYXdUZXh0KHRvdGFsVGV4dCwge1xuICAgIHg6IHJpZ2h0WCAtIGJvbGQud2lkdGhPZlRleHRBdFNpemUodG90YWxUZXh0LCAxNCksXG4gICAgeTogdG90YWxzWSArIDEyLFxuICAgIHNpemU6IDE0LFxuICAgIGZvbnQ6IGJvbGQsXG4gICAgY29sb3I6IHJnYigwLjA1LCAwLjA1LCAwLjA1KSxcbiAgfSk7XG5cbiAgLy8gRGV0YWlsIGJsb2NrcyB1bmRlciB0b3RhbHMgKHBhZ2luYXRlIGlmIG5lZWRlZClcbiAgeSA9IHRvdGFsc1kgLSAxODtcblxuICBmdW5jdGlvbiBkcmF3QmxvY2sodGl0bGU6IHN0cmluZywgdGV4dDogc3RyaW5nLCBtYXhMaW5lczogbnVtYmVyKSB7XG4gICAgY29uc3QgbGluZXMgPSB3cmFwVGV4dCh0ZXh0LCA5NSk7XG4gICAgY29uc3QgdXNlID0gbGluZXMuc2xpY2UoMCwgbWF4TGluZXMpO1xuXG4gICAgLy8gRXN0aW1hdGUgc3BhY2VcbiAgICBjb25zdCBuZWVkZWQgPSAxNCArIDEyICogdXNlLmxlbmd0aCArIDEwOyAvLyB0aXRsZStsaW5lcytnYXBcbiAgICBpZiAoeSAtIG5lZWRlZCA8IGJvdHRvbVNhZmVZKSB7XG4gICAgICBuZXdQYWdlV2l0aEhlYWRlcigpO1xuICAgICAgeSA9IHRvcEJvZHlZOyAvLyBhZnRlciBoZWFkZXJcbiAgICAgIC8vIE5vdCByZXBlYXRpbmcgXCJMaW5lIEl0ZW1zXCIgaGVyZTsgdGhpcyBwYWdlIGlzIHN1bW1hcnkgY29udGludWF0aW9uLlxuICAgICAgcGFnZS5kcmF3VGV4dChcIlN1bW1hcnkgKGNvbnQuKVwiLCB7XG4gICAgICAgIHg6IG1hcmdpbixcbiAgICAgICAgeSxcbiAgICAgICAgc2l6ZTogMTIsXG4gICAgICAgIGZvbnQ6IGJvbGQsXG4gICAgICAgIGNvbG9yOiByZ2IoMC4xLCAwLjEsIDAuMSksXG4gICAgICB9KTtcbiAgICAgIHkgLT0gMTg7XG4gICAgfVxuXG4gICAgcGFnZS5kcmF3VGV4dCh0aXRsZSwge1xuICAgICAgeDogbWFyZ2luLFxuICAgICAgeSxcbiAgICAgIHNpemU6IDExLFxuICAgICAgZm9udDogYm9sZCxcbiAgICAgIGNvbG9yOiByZ2IoMC4yLCAwLjIsIDAuMiksXG4gICAgfSk7XG4gICAgeSAtPSAxNDtcblxuICAgIGZvciAoY29uc3QgbGluZSBvZiB1c2UpIHtcbiAgICAgIHBhZ2UuZHJhd1RleHQobGluZSwge1xuICAgICAgICB4OiBtYXJnaW4sXG4gICAgICAgIHksXG4gICAgICAgIHNpemU6IDkuNSxcbiAgICAgICAgZm9udDogcmVndWxhcixcbiAgICAgICAgY29sb3I6IHJnYigwLjI1LCAwLjI1LCAwLjI1KSxcbiAgICAgIH0pO1xuICAgICAgeSAtPSAxMjtcbiAgICB9XG4gICAgeSAtPSAxMDtcbiAgfVxuXG4gIGlmIChub3Rlcy50cmltKCkpIGRyYXdCbG9jayhcIk5vdGVzXCIsIG5vdGVzLCA2KTtcbiAgaWYgKHRlcm1zLnRyaW0oKSkgZHJhd0Jsb2NrKFwiVGVybXNcIiwgdGVybXMsIDgpO1xuICBpZiAocGF5bWVudEluZm8udHJpbSgpKSBkcmF3QmxvY2soXCJQYXltZW50XCIsIHBheW1lbnRJbmZvLCA4KTtcblxuICAvLyBGb290ZXIgb24gbGFzdCBwYWdlXG4gIGRyYXdGb290ZXIoeyBwYWdlLCB3aWR0aDogUEFHRV9XLCBtYXJnaW4sIHJlZ3VsYXIsIGRvY0lkOiBwYXJhbXMuaWQgfSk7XG5cbiAgY29uc3QgcGRmQnl0ZXMgPSBhd2FpdCBwZGZEb2Muc2F2ZSgpO1xuXG4gIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKEJ1ZmZlci5mcm9tKHBkZkJ5dGVzKSwge1xuICAgIGhlYWRlcnM6IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vcGRmXCIsXG4gICAgICBcIkNvbnRlbnQtRGlzcG9zaXRpb25cIjogYGlubGluZTsgZmlsZW5hbWU9XCIke3BhcmFtcy5pZH0ucGRmXCJgLFxuICAgIH0sXG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIlBERkRvY3VtZW50IiwiU3RhbmRhcmRGb250cyIsInJnYiIsInRvTnVtYmVyIiwiaW5wdXQiLCJjbGVhbmVkIiwicmVwbGFjZSIsIm4iLCJOdW1iZXIiLCJpc0Zpbml0ZSIsIm1vbmV5IiwidG9Mb2NhbGVTdHJpbmciLCJ1bmRlZmluZWQiLCJtaW5pbXVtRnJhY3Rpb25EaWdpdHMiLCJtYXhpbXVtRnJhY3Rpb25EaWdpdHMiLCJzYWZlSnNvbiIsInJhdyIsImZhbGxiYWNrIiwiSlNPTiIsInBhcnNlIiwid3JhcFRleHQiLCJ0ZXh0IiwibWF4TGVuIiwid29yZHMiLCJzcGxpdCIsImZpbHRlciIsIkJvb2xlYW4iLCJsaW5lcyIsImxpbmUiLCJ3IiwibmV4dCIsImxlbmd0aCIsInB1c2giLCJlbWJlZExvZ28iLCJwZGZEb2MiLCJsb2dvRGF0YVVybCIsInN0YXJ0c1dpdGgiLCJpc1BuZyIsImlzSnBnIiwiYmFzZTY0IiwiYnl0ZXMiLCJCdWZmZXIiLCJmcm9tIiwiaW1nIiwiZW1iZWRQbmciLCJlbWJlZEpwZyIsImRyYXdIZWFkZXIiLCJvcHRzIiwicGFnZSIsIndpZHRoIiwiaGVpZ2h0IiwibWFyZ2luIiwicmVndWxhciIsImJvbGQiLCJjb21wYW55TmFtZSIsImNvbXBhbnlFbWFpbCIsImNvbXBhbnlQaG9uZSIsImNvbXBhbnlBZGRyZXNzIiwicHJvamVjdFRpdGxlIiwiY3VzdG9tZXJOYW1lIiwibG9nbyIsImRyYXdSZWN0YW5nbGUiLCJ4IiwieSIsImNvbG9yIiwibGVmdFgiLCJib3giLCJzY2FsZSIsIk1hdGgiLCJtaW4iLCJoIiwiZHJhd0ltYWdlIiwiZHJhd1RleHQiLCJzaXplIiwiZm9udCIsImNvbnRhY3RMaW5lIiwiam9pbiIsIndpZHRoT2ZUZXh0QXRTaXplIiwicHJlcGFyZWRGb3IiLCJkcmF3VGFibGVIZWFkZXIiLCJoZWFkZXJZIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsImNvbERlc2MiLCJjb2xRdHkiLCJjb2xSYXRlIiwiY29sQW10IiwiZHJhd0Zvb3RlciIsImRvY0lkIiwiZm9vdGVyWSIsInJpZ2h0IiwiR0VUIiwicmVxdWVzdCIsInBhcmFtcyIsInVybCIsIlVSTCIsInNlYXJjaFBhcmFtcyIsImdldCIsIml0ZW1zIiwidGF4UmF0ZSIsInNhZmVJdGVtcyIsIkFycmF5IiwiaXNBcnJheSIsImlkIiwidGl0bGUiLCJxdHkiLCJyYXRlIiwic3VidG90YWwiLCJyZWR1Y2UiLCJzdW0iLCJpdCIsInRheCIsInRvdGFsIiwibm90ZXMiLCJ0ZXJtcyIsInBheW1lbnRJbmZvIiwiY3JlYXRlIiwiZW1iZWRGb250IiwiSGVsdmV0aWNhIiwiSGVsdmV0aWNhQm9sZCIsIlBBR0VfVyIsIlBBR0VfSCIsInRvcEJvZHlZIiwiYm90dG9tU2FmZVkiLCJyb3dIZWlnaHQiLCJhZGRQYWdlIiwibmV3UGFnZVdpdGhIZWFkZXIiLCJhbXQiLCJkcmF3TGluZSIsInN0YXJ0IiwiZW5kIiwidGhpY2tuZXNzIiwiZGVzYyIsInNsaWNlIiwiU3RyaW5nIiwicmF0ZVRleHQiLCJhbXRUZXh0IiwibmVlZGVkRm9yU3VtbWFyeSIsInRyaW0iLCJ0b3RhbHNCb3hIZWlnaHQiLCJ0b3RhbHNZIiwibWF4IiwibGVmdCIsInJpZ2h0WCIsInN1YlRleHQiLCJ0YXhUZXh0IiwidG9GaXhlZCIsInRvdGFsVGV4dCIsImRyYXdCbG9jayIsIm1heExpbmVzIiwidXNlIiwibmVlZGVkIiwicGRmQnl0ZXMiLCJzYXZlIiwiaGVhZGVycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/documents/[id]/pdf/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/pdf-lib","vendor-chunks/@pdf-lib","vendor-chunks/pako"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdocuments%2F%5Bid%5D%2Fpdf%2Froute&page=%2Fapi%2Fdocuments%2F%5Bid%5D%2Fpdf%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocuments%2F%5Bid%5D%2Fpdf%2Froute.ts&appDir=%2FUsers%2Fginodiblasi%2Fprojects%2Fquickdocs%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fginodiblasi%2Fprojects%2Fquickdocs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();